<div class="home__container">
    <h1 class="home__header">Witaj w Quiz App!</h1>

    <div class="home__quiz-setup">
        <mat-card class="home__quiz-setup-card">
            <mat-card-content>
                <div class="home__quiz-setup-card-form-fields">
                    <mat-form-field appearance="outline">
                        <mat-label>Poziom trudności</mat-label>
                        <mat-select
                            [value]="selectedDifficulty()"
                            (selectionChange)="onDifficultyChange($event.value)"
                        >
                            @for (option of difficultyOptions; track option.value) {
                                <mat-option [value]="option.value">
                                    {{ option.label }}
                                </mat-option>
                            }
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Kategoria</mat-label>
                        <mat-select
                            [value]="selectedCategory()"
                            (selectionChange)="onCategoryChange($event.value)"
                        >
                            @if (isLoading()) {
                                <mat-option disabled>Ładowanie kategorii...</mat-option>
                            } @else {
                                @for (category of availableCategories(); track category.value) {
                                    <mat-option [value]="category.value">
                                        {{ category.label }}
                                    </mat-option>
                                }
                            }
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Format</mat-label>
                        <mat-select
                            [value]="selectedFormat()"
                            (selectionChange)="onFormatChange($event.value)"
                        >
                            @for (option of formatOptions; track option.value) {
                                <mat-option [value]="option.value">
                                    {{ option.label }}
                                </mat-option>
                            }
                        </mat-select>
                    </mat-form-field>
                </div>
            </mat-card-content>

            <mat-card-actions>
                <div class="home__start-button-container">
                    <button
                        matButton="filled"
                        [disabled]="!canStartQuiz()"
                        (click)="startQuiz()"
                        class="home__start-button"
                    >
                        Rozpocznij Quiz
                    </button>
                </div>
            </mat-card-actions>
        </mat-card>
    </div>
</div>
